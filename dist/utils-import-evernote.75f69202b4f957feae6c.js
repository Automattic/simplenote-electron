"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5877],{59661:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(41705),o=n(96827),i=n(81882);const a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function l(e){return e&&parseFloat(e.replace(",","."))||0}const m=[31,null,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400==0||e%4==0&&e%100!=0}var f=n(17243),h=n(41268);class g extends o.EventEmitter{constructor(e,t,n){super(),(0,r.A)(this,"importNotes",(e=>{var t,n;if(e&&0!==e.length){var r=e[0];if(r&&r.path)if(r.path&&(0,f.endsWith)(r.path.toLowerCase(),".enex")){var o=new h.A(this.addNote),i=0;null===(t=window.electron)||void 0===t||t.receive("noteImportChannel",(e=>{var t;if(e.error)return this.emit("status","error","Error processing Evernote data."),void(null===(t=window.electron)||void 0===t||t.removeListener("noteImportChannel"));if(e.note)return i++,this.emit("status","progress",i),void o.importNote(e.note,this.options);if(e.complete){var n,r;if(0===i)return this.emit("status","error","No notes were found to import."),void(null===(r=window.electron)||void 0===r||r.removeListener("noteImportChannel"));this.emit("status","complete",i),this.recordEvent("importer_import_completed",{source:"evernote",note_count:i}),null===(n=window.electron)||void 0===n||n.removeListener("noteImportChannel")}})),null===(n=window.electron)||void 0===n||n.send("importNotes",r.path)}else this.emit("status","error","An Evernote .enex file is required.");else this.emit("status","error","Could not find Evernote export file.")}else this.emit("status","error","Invalid Evernote export file.")})),(0,r.A)(this,"getConvertedDate",(e=>{var t=function(e,t){const n=t?.additionalDigits??2,r=function(e){const t={},n=e.split(a.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],a.timeZoneDelimiter.test(t.date)&&(t.date=e.split(a.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=a.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let o;if(r.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(r.date,n);o=function(e,t){if(null===t)return new Date(NaN);const n=e.match(s);if(!n)return new Date(NaN);const r=!!n[4],o=d(n[1]),i=d(n[2])-1,a=d(n[3]),c=d(n[4]),u=d(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,u)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}(t,c,u):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(m[t]||(p(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(p(e)?366:365)}(t,o)?(e.setUTCFullYear(t,i,Math.max(o,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const f=o.getTime();let h,g=0;if(r.time&&(g=function(e){const t=e.match(c);if(!t)return NaN;const n=l(t[1]),r=l(t[2]),o=l(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o)?n*i.s0+r*i.Cg+1e3*o:NaN}(r.time),isNaN(g)))return new Date(NaN);if(!r.timezone){const e=new Date(f+g),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return h=function(e){if("Z"===e)return 0;const t=e.match(u);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(r*i.s0+o*i.Cg):NaN}(r.timezone),isNaN(h)?new Date(NaN):new Date(f+g+h)}(e).getTime()/1e3;return isNaN(t)&&(t=Date.now()/1e3),t})),this.addNote=e,this.options=t,this.recordEvent=n}}var v=g},41268:function(e,t,n){var r=n(41705),o=n(96827),i=n(17243);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=["content","creationDate","deleted","markdown","modificationDate","pinned","tags"];class u extends o.EventEmitter{constructor(e){var t;super(),t=this,(0,r.A)(this,"importNote",(function(e){var{isTrashed:n=!1,isMarkdown:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,i.pick)(e,c);if(o.publishURL="",o.shareURL="",o.deleted=n,o.tags=(0,i.get)(o,"tags",[]),o.systemTags=(0,i.get)(o,"systemTags",[]),o.pinned&&(o.systemTags.push("pinned"),delete o.pinned),(o.markdown||r)&&(o.systemTags.push("markdown"),delete o.markdown),o.creationDate&&isNaN(o.creationDate)&&(o.creationDate=new Date(o.creationDate).getTime()/1e3),o.creationDate=o.creationDate||o.modificationDate||Date.now(),o.modificationDate=o.modificationDate||o.creationDate||Date.now(),Object.prototype.hasOwnProperty.call(o,"content")||(o.content=""),o.tags){var a=o.tags.map((e=>{var t=e.replace(/(\r\n|\n|\r|\s|,)/gm,"");return(0,i.isEmpty)(t)?void 0:t}));o.tags=a.filter((e=>void 0!==e))}t.addNote(o)})),(0,r.A)(this,"importNotes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if((0,i.isEmpty)(e))t.emit("status","error","No notes to import.");else{if(e.activeNotes||e.trashedNotes){var r=(0,i.get)(e,"activeNotes",[]).map((e=>t.importNote(e,n))),o=(0,i.get)(e,"trashedNotes",[]).map((e=>t.importNote(e,s(s({},n),{},{isTrashed:!0}))));return Promise.all(r.concat(o))}t.emit("status","error","Invalid import format: No active or trashed notes found.")}})),this.addNote=e}}t.A=u}}]);