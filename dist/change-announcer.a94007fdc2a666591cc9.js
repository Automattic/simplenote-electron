"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[841],{14290:function(e,t,n){n.r(t),n.d(t,{announceNoteUpdates:function(){return l}});var s=n(61943),l=e=>{var{dispatch:t,getState:n}=e,l=(e,n,l)=>new Notification(n,{body:l,tag:e}).onclick=()=>t(s.A.ui.openNote(e));return(e,t,s,o,i)=>{var c,a,d;if(n().settings.sendNotifications&&!i&&o)if(0!==Object.getOwnPropertyNames(s).length)if("r"!==(null===(c=o.deleted)||void 0===c?void 0:c.o))if(null!=s&&s.publishURL||null===(a=t.publishURL)||void 0===a||!a.length)if(null==s||null===(d=s.systemTags)||void 0===d||!d.includes("published")||t.systemTags.includes("published"))if(!o.tags||o.content)1===Object.getOwnPropertyNames(o).length&&(o.systemTags&&(null==s?void 0:s.systemTags.includes("published"))!==t.systemTags.includes("published")||o.publishURL)||1===Object.getOwnPropertyNames(o).length&&o.systemTags||l(e,"Note Updated",t.content.slice(0,200)||"(no content)");else{var u=new Set((null==s?void 0:s.tags)||[]),g=new Set(t.tags),h=[...u.values()].filter((e=>!g.has(e))),r=[...g.values()].filter((e=>!u.has(e)));l(e,"Tags modified: ".concat(t.content.slice(0,20)||"(untitled)"),[r.length>0&&"Added: ".concat(r.join(", ").slice(0,20)),h.length>0&&"Removed: ".concat(h.join(", ").slice(0,20))].filter(Boolean).join("\n"))}else l(e,"Note Unpublished",t.content.slice(0,200)||"(no content)");else l(e,"Note Published",t.content.slice(0,200)||"(no content)");else l(e,o.deleted.v?"Note Trashed":"Note Restored",t.content.slice(0,200)||"(no content)");else l(e,"New Note",t.content.slice(0,200)||"(no content)")}}}}]);